"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[269],{89926:function(ir,Ae,r){r.d(Ae,{I:function(){return z}});var x=r(97685),N=r(4942),t=r(1413),ae=r(74165),D=r(15861),ce=r(91),Ie=r(89451),Ke=r(22270),ge=r(48171),Le=r(26369),Ne=r(60249),De=r(41036),Se=r(21770),Be=r(75661),We=r(17642),Ve=r(98082),ze=r(356),Ge=r(23312),P=r(45095),ie=r(52445),q=r(17093),Oe=r(57953),B=r(94184),$=r.n(B),f=r(97435),R=r(88306),W=r(8880),c=r(80334),n=r(67294),he=r(71577),F=r(85893),Je=function(o){var V=(0,Ie.useIntl)(),u=ie.Z.useFormInstance();if(o.render===!1)return null;var Z=o.onSubmit,_=o.render,ee=o.onReset,re=o.searchConfig,g=re===void 0?{}:re,j=o.submitButtonProps,G=o.resetButtonProps,d=G===void 0?{}:G,Q=Ve.Ow.useToken(),se=Q.token,E=function(){u.submit(),Z==null||Z()},O=function(){u.resetFields(),ee==null||ee()},b=g.submitText,Y=b===void 0?V.getMessage("tableForm.submit","\u63D0\u4EA4"):b,M=g.resetText,ne=M===void 0?V.getMessage("tableForm.reset","\u91CD\u7F6E"):M,h=[];d!==!1&&h.push((0,n.createElement)(he.ZP,(0,t.Z)((0,t.Z)({},(0,f.default)(d,["preventDefault"])),{},{key:"rest",onClick:function(C){var m;d!=null&&d.preventDefault||O(),d==null||(m=d.onClick)===null||m===void 0||m.call(d,C)}}),ne)),j!==!1&&h.push((0,n.createElement)(he.ZP,(0,t.Z)((0,t.Z)({type:"primary"},(0,f.default)(j||{},["preventDefault"])),{},{key:"submit",onClick:function(C){var m;j!=null&&j.preventDefault||E(),j==null||(m=j.onClick)===null||m===void 0||m.call(j,C)}}),Y));var v=_?_((0,t.Z)((0,t.Z)({},o),{},{form:u,submit:E,reset:O}),h):h;return v?Array.isArray(v)?(v==null?void 0:v.length)<1?null:(v==null?void 0:v.length)===1?v[0]:(0,F.jsx)("div",{style:{display:"flex",gap:se.marginXS,alignItems:"center"},children:v}):v:null},He=Je,je=r(17186),ye=r(66758),Pe=r(2514),Te=r(9105),$e=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","transformKey","formRef","onInit","form","loading","formComponentType","extraUrlParams","syncToUrl","onUrlSearchChange","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput","grid","rowProps","colProps"],be=["extraUrlParams","syncToUrl","isKeyPressSubmit","syncToUrlAsImportant","syncToInitialValues","children","contentRender","submitter","fieldProps","proFieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","onReset","grid","rowProps","colProps","omitNil","request","params","initialValues","formKey","readonly","onLoadingChange","loading"],le=function(o,V,u){return o===!0?V:(0,Ke.h)(o,V,u)},Fe=function(o){return!o||Array.isArray(o)?o:[o]};function Xe(e){var o,V=e.children,u=e.contentRender,Z=e.submitter,_=e.fieldProps,ee=e.formItemProps,re=e.groupProps,g=e.transformKey,j=e.formRef,G=e.onInit,d=e.form,Q=e.loading,se=e.formComponentType,E=e.extraUrlParams,O=E===void 0?{}:E,b=e.syncToUrl,Y=e.onUrlSearchChange,M=e.onReset,ne=e.omitNil,h=ne===void 0?!0:ne,v=e.isKeyPressSubmit,k=e.autoFocusFirstInput,C=k===void 0?!0:k,m=e.grid,A=e.rowProps,ue=e.colProps,J=(0,ce.Z)(e,$e),Ue=ie.Z.useFormInstance(),we=(q.ZP===null||q.ZP===void 0||(o=q.ZP.useConfig)===null||o===void 0?void 0:o.call(q.ZP))||{componentSize:"middle"},Ze=we.componentSize,K=(0,n.useRef)(d||Ue),Qe=(0,Pe.zx)({grid:m,rowProps:A}),Ye=Qe.RowWrapper,de=(0,ge.J)(function(){return Ue}),ve=(0,n.useMemo)(function(){return{getFieldsFormatValue:function(l){var s;return g((s=de())===null||s===void 0?void 0:s.getFieldsValue(l),h)},getFieldFormatValue:function(){var l,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=Fe(s);if(!i)throw new Error("nameList is require");var p=(l=de())===null||l===void 0?void 0:l.getFieldValue(i),H=i?(0,W.Z)({},i,p):p;return(0,R.Z)(g(H,h,i),i)},getFieldFormatValueObject:function(l){var s,i=Fe(l),p=(s=de())===null||s===void 0?void 0:s.getFieldValue(i),H=i?(0,W.Z)({},i,p):p;return g(H,h,i)},validateFieldsReturnFormatValue:function(){var a=(0,D.Z)((0,ae.Z)().mark(function s(i){var p,H,oe;return(0,ae.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(!Array.isArray(i)&&i)){U.next=2;break}throw new Error("nameList must be array");case 2:return U.next=4,(p=de())===null||p===void 0?void 0:p.validateFields(i);case 4:return H=U.sent,oe=g(H,h),U.abrupt("return",oe||{});case 7:case"end":return U.stop()}},s)}));function l(s){return a.apply(this,arguments)}return l}()}},[h,g]),L=(0,n.useMemo)(function(){return n.Children.toArray(V).map(function(a,l){return l===0&&n.isValidElement(a)&&C?n.cloneElement(a,(0,t.Z)((0,t.Z)({},a.props),{},{autoFocus:C})):a})},[C,V]),y=(0,n.useMemo)(function(){return typeof Z=="boolean"||!Z?{}:Z},[Z]),Ee=(0,n.useMemo)(function(){if(Z!==!1)return(0,F.jsx)(He,(0,t.Z)((0,t.Z)({},y),{},{onReset:function(){var l,s,i=g((l=K.current)===null||l===void 0?void 0:l.getFieldsValue(),h);if(y==null||(s=y.onReset)===null||s===void 0||s.call(y,i),M==null||M(i),b){var p,H=Object.keys(g((p=K.current)===null||p===void 0?void 0:p.getFieldsValue(),!1)).reduce(function(oe,xe){return(0,t.Z)((0,t.Z)({},oe),{},(0,N.Z)({},xe,i[xe]||void 0))},O);Y(le(b,H,"set"))}},submitButtonProps:(0,t.Z)({loading:Q},y.submitButtonProps)}),"submitter")},[Z,y,Q,g,h,M,b,O,Y]),Me=(0,n.useMemo)(function(){var a=m?(0,F.jsx)(Ye,{children:L}):L;return u?u(a,Ee,K.current):a},[m,Ye,L,u,Ee]),Ce=(0,Le.D)(e.initialValues);return(0,n.useEffect)(function(){if(!(b||!e.initialValues||!Ce||J.request)){var a=(0,Ne.A)(e.initialValues,Ce);(0,c.ET)(a,"initialValues \u53EA\u5728 form \u521D\u59CB\u5316\u65F6\u751F\u6548\uFF0C\u5982\u679C\u4F60\u9700\u8981\u5F02\u6B65\u52A0\u8F7D\u63A8\u8350\u4F7F\u7528 request\uFF0C\u6216\u8005 initialValues ? <Form/> : null "),(0,c.ET)(a,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[e.initialValues]),(0,n.useImperativeHandle)(j,function(){return(0,t.Z)((0,t.Z)({},K.current),ve)},[ve,K.current]),(0,n.useEffect)(function(){var a,l,s=g((a=K.current)===null||a===void 0||(l=a.getFieldsValue)===null||l===void 0?void 0:l.call(a,!0),h);G==null||G(s,(0,t.Z)((0,t.Z)({},K.current),ve))},[]),(0,F.jsx)(De.J.Provider,{value:(0,t.Z)((0,t.Z)({},ve),{},{formRef:K}),children:(0,F.jsx)(q.ZP,{componentSize:J.size||Ze,children:(0,F.jsxs)(Pe._p.Provider,{value:{grid:m,colProps:ue},children:[J.component!==!1&&(0,F.jsx)("input",{type:"text",style:{display:"none"}}),Me]})})})}var pe=0;function z(e){var o=e.extraUrlParams,V=o===void 0?{}:o,u=e.syncToUrl,Z=e.isKeyPressSubmit,_=e.syncToUrlAsImportant,ee=_===void 0?!1:_,re=e.syncToInitialValues,g=re===void 0?!0:re,j=e.children,G=e.contentRender,d=e.submitter,Q=e.fieldProps,se=e.proFieldProps,E=e.formItemProps,O=e.groupProps,b=e.dateFormatter,Y=b===void 0?"string":b,M=e.formRef,ne=e.onInit,h=e.form,v=e.formComponentType,k=e.onReset,C=e.grid,m=e.rowProps,A=e.colProps,ue=e.omitNil,J=ue===void 0?!0:ue,Ue=e.request,we=e.params,Ze=e.initialValues,K=e.formKey,Qe=K===void 0?pe:K,Ye=e.readonly,de=e.onLoadingChange,ve=e.loading,L=(0,ce.Z)(e,be),y=(0,n.useRef)({}),Ee=(0,Se.Z)(!1,{onChange:de,value:ve}),Me=(0,x.Z)(Ee,2),Ce=Me[0],a=Me[1],l=(0,P.useUrlSearchParams)({},{disabled:!u}),s=(0,x.Z)(l,2),i=s[0],p=s[1],H=(0,n.useRef)((0,Be.x)());(0,n.useEffect)(function(){pe+=0},[]);var oe=(0,We.$)({request:Ue,params:we,proFieldKey:Qe}),xe=(0,x.Z)(oe,1),U=xe[0],lr=(0,n.useContext)(q.ZP.ConfigContext),sr=lr.getPrefixCls,rr=sr("pro-form"),tr=(0,Ve.Xj)("ProForm",function(X){return(0,N.Z)({},".".concat(rr),(0,N.Z)({},"> div:not(".concat(X.proComponentsCls,"-form-light-filter)"),{".pro-field":{maxWidth:"100%","&-xs":{width:104},"&-s":{width:216},"&-sm":{width:216},"&-m":{width:328},"&-md":{width:328},"&-l":{width:440},"&-lg":{width:440},"&-xl":{width:552}}}))}),ur=tr.wrapSSR,dr=tr.hashId,vr=(0,n.useState)(function(){return u?le(u,i,"get"):{}}),nr=(0,x.Z)(vr,2),or=nr[0],mr=nr[1],ke=(0,n.useRef)({}),qe=(0,n.useRef)({}),_e=(0,ge.J)(function(X,I,S){return(0,ze.M)((0,Ge.lp)(X,Y,qe.current,I,S),ke.current,I)});(0,n.useEffect)(function(){g||mr({})},[g]),(0,n.useEffect)(function(){u&&p((0,t.Z)((0,t.Z)({},i),V))},[V,u]);var fr=(0,n.useMemo)(function(){if(typeof window!="undefined"&&v&&["DrawerForm"].includes(v))return function(X){return X.parentNode||document.body}},[v]),cr=(0,ge.J)((0,D.Z)((0,ae.Z)().mark(function X(){var I,S,w,me,Re,te;return(0,ae.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(L.onFinish){T.next=2;break}return T.abrupt("return");case 2:if(!Ce){T.next=4;break}return T.abrupt("return");case 4:return a(!0),T.prev=5,w=y==null||(I=y.current)===null||I===void 0||(S=I.getFieldsFormatValue)===null||S===void 0?void 0:S.call(I),T.next=9,L.onFinish(w);case 9:u&&(te=Object.keys(y==null||(me=y.current)===null||me===void 0||(Re=me.getFieldsFormatValue)===null||Re===void 0?void 0:Re.call(me,void 0,!1)).reduce(function(fe,ar){var er;return(0,t.Z)((0,t.Z)({},fe),{},(0,N.Z)({},ar,(er=w[ar])!==null&&er!==void 0?er:void 0))},V),Object.keys(i).forEach(function(fe){te[fe]!==!1&&te[fe]!==0&&!te[fe]&&(te[fe]=void 0)}),p(le(u,te,"set"))),a(!1),T.next=17;break;case 13:T.prev=13,T.t0=T.catch(5),console.log(T.t0),a(!1);case 17:case"end":return T.stop()}},X,null,[[5,13]])})));return(0,n.useImperativeHandle)(M,function(){return y.current},[!U]),!U&&e.request?(0,F.jsx)("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"},children:(0,F.jsx)(Oe.Z,{})}):ur((0,F.jsx)(Te.A.Provider,{value:{mode:e.readonly?"read":"edit"},children:(0,F.jsx)(Ie.ProConfigProvider,{needDeps:!0,children:(0,F.jsx)(ye.Z.Provider,{value:{formRef:y,fieldProps:Q,proFieldProps:se,formItemProps:E,groupProps:O,formComponentType:v,getPopupContainer:fr,formKey:H.current,setFieldValueType:function(I,S){var w=S.valueType,me=w===void 0?"text":w,Re=S.dateFormat,te=S.transform;Array.isArray(I)&&(ke.current=(0,W.Z)(ke.current,I,te),qe.current=(0,W.Z)(qe.current,I,{valueType:me,dateFormat:Re}))}},children:(0,F.jsx)(je.J.Provider,{value:{},children:(0,F.jsx)(ie.Z,(0,t.Z)((0,t.Z)({onKeyPress:function(I){if(Z&&I.key==="Enter"){var S;(S=y.current)===null||S===void 0||S.submit()}},autoComplete:"off",form:h},(0,f.default)(L,["labelWidth","autoFocusFirstInput"])),{},{initialValues:ee?(0,t.Z)((0,t.Z)((0,t.Z)({},Ze),U),or):(0,t.Z)((0,t.Z)((0,t.Z)({},or),Ze),U),onValuesChange:function(I,S){var w;L==null||(w=L.onValuesChange)===null||w===void 0||w.call(L,_e(I,!!J),_e(S,!!J))},className:$()(e.className,rr,dr),onFinish:cr,children:(0,F.jsx)(Xe,(0,t.Z)((0,t.Z)({transformKey:_e,autoComplete:"off",loading:Ce,onUrlSearchChange:p},e),{},{formRef:y,initialValues:(0,t.Z)((0,t.Z)({},Ze),U)}))}))})})})}))}},97269:function(ir,Ae,r){r.d(Ae,{A:function(){return B}});var x=r(1413),N=r(52445),t=r(67294),ae=r(89926),D=r(4942),ce=r(97685),Ie=r(68706),Ke=r(21770),ge=r(86333),Le=r(17093),Ne=r(42075),De=r(94184),Se=r.n(De),Be=r(66758),We=r(2514),Ve=r(98082),ze=function(f){var R;return(0,D.Z)({},f.componentCls,{"&-title":{marginBlockEnd:f.marginXL,fontWeight:"bold"},"&-container":(0,D.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(f.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(R={display:"block",width:"100%"},(0,D.Z)(R,"".concat(f.componentCls,"-title"),{width:"100%",margin:"8px 0"}),(0,D.Z)(R,"".concat(f.componentCls,"-container"),{paddingInlineStart:16}),(0,D.Z)(R,"".concat(f.antCls,"-space-item,").concat(f.antCls,"-form-item"),{width:"100%"}),(0,D.Z)(R,"".concat(f.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}}),R)})};function Ge($){return(0,Ve.Xj)("ProFormGroup",function(f){var R=(0,x.Z)((0,x.Z)({},f),{},{componentCls:".".concat($)});return[ze(R)]})}var P=r(85893),ie=t.forwardRef(function($,f){var R=t.useContext(Be.Z),W=R.groupProps,c=(0,x.Z)((0,x.Z)({},W),$),n=c.children,he=c.collapsible,F=c.defaultCollapsed,Je=c.style,He=c.labelLayout,je=c.title,ye=je===void 0?$.label:je,Pe=c.tooltip,Te=c.align,$e=Te===void 0?"start":Te,be=c.direction,le=c.size,Fe=le===void 0?32:le,Xe=c.titleStyle,pe=c.titleRender,z=c.spaceProps,e=c.extra,o=c.autoFocus,V=(0,Ke.Z)(function(){return F||!1},{value:$.collapsed,onChange:$.onCollapse}),u=(0,ce.Z)(V,2),Z=u[0],_=u[1],ee=(0,t.useContext)(Le.ZP.ConfigContext),re=ee.getPrefixCls,g=(0,We.zx)($),j=g.ColWrapper,G=g.RowWrapper,d=re("pro-form-group"),Q=Ge(d),se=Q.wrapSSR,E=Q.hashId,O=he&&(0,P.jsx)(Ie.Z,{style:{marginInlineEnd:8},rotate:Z?void 0:90}),b=(0,P.jsx)(ge.G,{label:O?(0,P.jsxs)("div",{children:[O,ye]}):ye,tooltip:Pe}),Y=(0,t.useCallback)(function(C){var m=C.children;return(0,P.jsx)(Ne.Z,(0,x.Z)((0,x.Z)({},z),{},{className:Se()("".concat(d,"-container ").concat(E),z==null?void 0:z.className),size:Fe,align:$e,direction:be,style:(0,x.Z)({rowGap:0},z==null?void 0:z.style),children:m}))},[$e,d,be,E,Fe,z]),M=pe?pe(b,$):b,ne=(0,t.useMemo)(function(){var C=[],m=t.Children.toArray(n).map(function(A,ue){var J;return t.isValidElement(A)&&A!==null&&A!==void 0&&(J=A.props)!==null&&J!==void 0&&J.hidden?(C.push(A),null):ue===0&&t.isValidElement(A)&&o?t.cloneElement(A,(0,x.Z)((0,x.Z)({},A.props),{},{autoFocus:o})):A});return[(0,P.jsx)(G,{Wrapper:Y,children:m},"children"),C.length>0?(0,P.jsx)("div",{style:{display:"none"},children:C}):null]},[n,G,Y,o]),h=(0,ce.Z)(ne,2),v=h[0],k=h[1];return se((0,P.jsx)(j,{children:(0,P.jsxs)("div",{className:Se()(d,E,(0,D.Z)({},"".concat(d,"-twoLine"),He==="twoLine")),style:Je,ref:f,children:[k,(ye||Pe||e)&&(0,P.jsx)("div",{className:"".concat(d,"-title ").concat(E).trim(),style:Xe,onClick:function(){_(!Z)},children:e?(0,P.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[M,(0,P.jsx)("span",{onClick:function(m){return m.stopPropagation()},children:e})]}):M}),(0,P.jsx)("div",{style:{display:he&&Z?"none":void 0},children:v})]})}))});ie.displayName="ProForm-Group";var q=ie,Oe=r(30710);function B($){return(0,P.jsx)(ae.I,(0,x.Z)({layout:"vertical",submitter:{render:function(R,W){return W.reverse()}},contentRender:function(R,W){return(0,P.jsxs)(P.Fragment,{children:[R,W]})}},$))}B.Group=q,B.useForm=N.Z.useForm,B.Item=Oe.Z,B.useWatch=N.Z.useWatch,B.ErrorList=N.Z.ErrorList,B.Provider=N.Z.Provider,B.useFormInstance=N.Z.useFormInstance}}]);
